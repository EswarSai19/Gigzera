<div
  class="fixed inset-0 flex items-center justify-center z-50 hidden"
  id="workHistoryModal2"
>
  <div class="bg-white w-full max-w-lg p-6 rounded-lg shadow-lg">
    <!-- Modal Header -->
    <div class="p-4 border-b border-gray-200 text-center bg-gray-50 mb-2">
      <h5
        class="text-blue-600 font-bold text-xl"
        style="
          color: #007bff;
          font-weight: bold;
          font-size: 1.5rem;
          text-align: center;
          margin: 0;
        "
      >
        Add Work History
      </h5>
    </div>

    <!-- Modal Body -->
    <div>
      <form id="workHistoryForm" method="POST" action="{% url 'edit_job' %}">
        {% csrf_token %}
        <!-- Company and Title -->
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div class="flex flex-col">
            <label for="company" class="mb-2"
              >Company <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="company_"
              name="company"
              placeholder="Enter company name..."
              class="px-4 py-2 border border-gray-300 rounded-md required"
              required
            />
            <span class="text-red-500 text-sm hidden" id="company-error"
              >This field is required.</span
            >
          </div>
          <div class="flex flex-col">
            <label for="title" class="mb-2"
              >Title <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="job_title_"
              name="job_title"
              placeholder="Enter your job title..."
              class="px-4 py-2 border border-gray-300 rounded-md required"
              required
            />
            <span class="text-red-500 text-sm hidden" id="title-error"
              >This field is required.</span
            >
          </div>
        </div>

        <!-- City and Country -->
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div class="flex flex-col">
            <label for="city" class="mb-2"
              >City <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="city_"
              name="city"
              placeholder="Enter city name..."
              class="px-4 py-2 border border-gray-300 rounded-md required"
              required
            />
            <span class="text-red-500 text-sm hidden" id="city-error"
              >This field is required.</span
            >
          </div>
          <div class="flex flex-col">
            <label for="country" class="mb-2"
              >Country <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              id="country_"
              name="country"
              placeholder="Enter country name..."
              class="px-4 py-2 border border-gray-300 rounded-md required"
              required
            />
            <span class="text-red-500 text-sm hidden" id="country-error"
              >This field is required.</span
            >
          </div>
        </div>

        <!-- Worked From and Worked Till -->
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div class="flex flex-col">
            <label for="workedFrom" class="mb-2"
              >Worked From <span class="text-red-500">*</span></label
            >
            <input
              type="date"
              id="start_date_"
              name="start_date"
              class="px-4 py-2 border border-gray-300 rounded-md required"
              required
            />
            <span class="text-red-500 text-sm hidden" id="workedFrom-error"
              >This field is required.</span
            >
          </div>
          <div class="flex flex-col">
            <label for="workedTill" class="mb-2"
              >Worked Till <span class="text-red-500">*</span></label
            >
            <input
              type="date"
              id="end_date_"
              name="end_date"
              class="px-4 py-2 border border-gray-300 rounded-md"
            />
            <span class="text-red-500 text-sm hidden" id="workedTill-error"
              >This field is required.</span
            >
          </div>
        </div>

        <!-- Checkbox -->
        <div class="flex items-center mb-4">
          <input
            type="checkbox"
            name="currently_working"
            id="currently_working_"
            class="mr-2"
          />
          <label for="currentlyWorking">I currently work here</label>
        </div>

        <!-- Description -->
        <div class="mb-4">
          <label for="description" class="mb-2">Description</label>
          <textarea
            id="description_"
            name="description"
            placeholder="Describe your role and key accomplishments..."
            class="w-full px-4 py-2 border border-gray-300 rounded-md"
          ></textarea>
        </div>
        <!-- Modal Footer -->
        <div class="flex justify-end space-x-4">
          <button
            class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md"
            onclick="closeModal2()"
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 bg-blue-500 text-white rounded-md"
            id="saveBtn"
          >
            Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- this is another -->

<!-- Modal for add certificate -->

<div
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto [&::-webkit-scrollbar]:hidden"
  id="addCertificateModal2"
  style="display: none"
>
  <div
    class="bg-white rounded-lg shadow-xl w-full max-w-lg lg:max-w-2xl flex flex-col max-h-[80vh] overflow-hidden"
  >
    <!-- Modal Header -->
    <div class="p-4 border-b border-gray-200 text-center bg-gray-50">
      <h5 class="text-blue-600 font-bold text-xl" id="addCertificateModalLabel">
        Add Certification
      </h5>
    </div>

    <!-- Modal Body (Scrollable) -->
    <div class="p-6 flex-1 overflow-y-auto">
      <div class="file-upload-cert mb-6">
        <div
          class="upload-area-cert border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"
          id="file-upload-container"
        >
          <span class="upload-icon-cert text-2xl">&#8682;</span>
          <p class="mt-2">Drag and drop your certificate here</p>
          <p class="text-sm text-gray-500">Supported formats: PDF, PNG, JPG</p>
          <button
            class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"
            onclick="document.getElementById('file-input-cert').click()"
          >
            Browse Files
          </button>
          <input
            type="file"
            id="file-input-cert"
            accept=".pdf, .png, .jpg"
            hidden
            onchange="displayUploadedFile()"
          />
        </div>
      </div>

      <!-- Form Section -->
      <form
        class="certification-form space-y-4"
        method="POST"
        action="{% url 'edit_cert' %}"
      >
        {% csrf_token %}
        <input type="hidden" name="cert_id" id="cert_id" />
        <div>
          <label
            for="certification-name"
            class="block text-sm font-medium text-gray-700"
          >
            Certification Name <span class="text-red-500">*</span>
          </label>
          <input
            type="text"
            name="cert_name"
            id="cert_name_"
            placeholder="Enter Certification Name"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
            required
          />
        </div>
        <div>
          <label
            for="issue-date"
            class="block text-sm font-medium text-gray-700"
          >
            Issue Date <span class="text-red-500">*</span>
          </label>
          <input
            type="date"
            id="issue_date_"
            name="issue_date"
            placeholder="DD-MM-YYYY"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
            required
          />
        </div>
        <div>
          <label
            for="expiry-date"
            class="block text-sm font-medium text-gray-700"
          >
            Expiry Date
          </label>
          <input
            type="date"
            id="expiry_date_"
            name="expiry_date"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
        <div>
          <label
            for="certification-id"
            class="block text-sm font-medium text-gray-700"
          >
            Certification ID
          </label>
          <input
            type="text"
            id="certification_id_"
            name="certification_id"
            placeholder="Enter Certification ID (if applicable)"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
        <div>
          <label
            for="certification-url"
            class="block text-sm font-medium text-gray-700"
          >
            Certification URL
          </label>
          <input
            type="text"
            id="cert_url_"
            name="cert_url"
            placeholder="Enter Certification URL (if applicable)"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
        <!-- Modal Footer (Fixed at the Bottom) -->
        <div class="p-4 border-t border-gray-200 flex justify-end bg-gray-50">
          <button
            type="button"
            class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 mr-2"
            onclick="hideModal2()"
          >
            Cancel
          </button>
          <button
            type="submit"
            id="save-button"
            class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"
          >
            Save
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- This is the test for adding skills -->

<div class="editable-box" id="skills">
  <div class="skills-search">
    <input
      type="text"
      id="new-skill"
      placeholder="Add a skill..."
      oninput="filterSkills(event)"
    />
    <input
      type="number"
      id="experience"
      placeholder="Years of experience"
      min="1"
      required
    />
    <button type="button" id="add-skill-btn">Add Skill</button>
  </div>
  <div id="suggestions" class="suggestions-box" style="display: none"></div>
</div>

<style>
  /* Editable box around the search field */
  .editable-box {
    background-color: #f4f6f8; /* Light background */
    padding: 25px;
    border-radius: 5px;
    margin-bottom: 20px;
  }

  /* Search bar for skills */
  .skills-search {
    display: flex;
    align-items: center;
    margin-top: 10px;
    position: relative;
    gap: 10px; /* Space between inputs and button */
  }

  /* Input field for typing skills */
  .skills-search input[type="text"],
  .skills-search input[type="number"] {
    padding: 10px;
    border: 1px solid #555; /* Light black border color */
    border-radius: 4px;
    height: 40px;
    outline: none;
    background-color: #fff;
    color: black;
  }

  .skills-search input[type="text"] {
    width: 40%;
  }

  .skills-search input[type="number"] {
    width: 30%;
  }

  /* Placeholder styling */
  .skills-search input[type="text"]::placeholder,
  .skills-search input[type="number"]::placeholder {
    color: #333;
  }

  /* Disabled input styling */
  .skills-search input[disabled] {
    background-color: #e0e0e0;
    color: #9e9e9e;
    cursor: not-allowed;
  }

  /* Add Skill button styling */
  #add-skill-btn {
    padding: 10px 20px;
    background-color: #4caf50; /* Green */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    height: 40px;
    transition: background-color 0.3s ease;
  }

  #add-skill-btn:hover {
    background-color: #45a049;
  }

  /* Box containing suggestions */
  .suggestions-box {
    border: 1px solid #ccc;
    border-radius: 4px;
    max-height: 150px;
    overflow-y: auto;
    position: absolute;
    background-color: white;
    z-index: 1000;
    width: calc(40% - 22px); /* Match input width, accounting for padding */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  }

  /* Styling for each suggestion item */
  .suggestion-item {
    padding: 10px;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .suggestion-item:hover {
    background-color: #e3f2fd; /* Highlight color on hover */
  }
</style>
